{"ast":null,"code":"import { getToken } from \"./users-service\";\nconst BASE_URL = \"/api/posts\";\nexport async function getMessages(postId, replyId) {\n  const res = await fetch(`${BASE_URL}/${postId}/deals/${replyId}/messages`, {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + getToken()\n    }\n  });\n\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(\"Unable to retrieve messages.\");\n  }\n}\nexport async function sendMessage(postId, replyId, message) {\n  const payload = {\n    message: message\n  };\n  const res = await fetch(`${BASE_URL}/${postId}/deals/${replyId}/messages`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + getToken()\n    },\n    body: JSON.stringify(payload)\n  });\n\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(\"Unable to send message.\");\n  }\n}","map":{"version":3,"sources":["C:/Users/Riya/OneDrive/Desktop/trader-among-us-master/src/utils/messages-api.js"],"names":["getToken","BASE_URL","getMessages","postId","replyId","res","fetch","method","headers","ok","json","Error","sendMessage","message","payload","body","JSON","stringify"],"mappings":"AAAA,SAASA,QAAT,QAAyB,iBAAzB;AAEA,MAAMC,QAAQ,GAAG,YAAjB;AAEA,OAAO,eAAeC,WAAf,CAA2BC,MAA3B,EAAmCC,OAAnC,EAA4C;AACjD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEL,QAAS,IAAGE,MAAO,UAASC,OAAQ,WAAxC,EAAoD;AACzEG,IAAAA,MAAM,EAAE,KADiE;AAEzEC,IAAAA,OAAO,EAAE;AACP,uBAAiB,YAAYR,QAAQ;AAD9B;AAFgE,GAApD,CAAvB;;AAOA,MAAIK,GAAG,CAACI,EAAR,EAAY;AACV,WAAOJ,GAAG,CAACK,IAAJ,EAAP;AACD,GAFD,MAEO;AACL,UAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;AACD;AACF;AAED,OAAO,eAAeC,WAAf,CAA2BT,MAA3B,EAAmCC,OAAnC,EAA4CS,OAA5C,EAAqD;AAC1D,QAAMC,OAAO,GAAG;AACdD,IAAAA,OAAO,EAAEA;AADK,GAAhB;AAIA,QAAMR,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEL,QAAS,IAAGE,MAAO,UAASC,OAAQ,WAAxC,EAAoD;AACzEG,IAAAA,MAAM,EAAE,MADiE;AAEzEC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAiB,YAAYR,QAAQ;AAF9B,KAFgE;AAMzEe,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,OAAf;AANmE,GAApD,CAAvB;;AASA,MAAIT,GAAG,CAACI,EAAR,EAAY;AACV,WAAOJ,GAAG,CAACK,IAAJ,EAAP;AACD,GAFD,MAEO;AACL,UAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;AACD;AACF","sourcesContent":["import { getToken } from \"./users-service\";\n\nconst BASE_URL = \"/api/posts\";\n\nexport async function getMessages(postId, replyId) {\n  const res = await fetch(`${BASE_URL}/${postId}/deals/${replyId}/messages`, {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + getToken(),\n    },\n  });\n\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(\"Unable to retrieve messages.\");\n  }\n}\n\nexport async function sendMessage(postId, replyId, message) {\n  const payload = {\n    message: message\n  };\n\n  const res = await fetch(`${BASE_URL}/${postId}/deals/${replyId}/messages`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + getToken(),\n    },\n    body: JSON.stringify(payload),\n  });\n\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(\"Unable to send message.\");\n  }\n}\n"]},"metadata":{},"sourceType":"module"}