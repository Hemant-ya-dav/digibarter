{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riya\\\\OneDrive\\\\Desktop\\\\trader-among-us-master\\\\src\\\\components\\\\Form\\\\Form.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport \"./Form.css\";\nimport PageTitle from \"../../components/PageTitle/PageTitle\";\nimport postsApi from \"../../utils/posts-api\";\nimport { useHistory } from \"react-router\";\nimport ItemDrag from \"../ItemDrag/ItemDrag\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = ({\n  name,\n  description,\n  image,\n  user\n}) => {\n  _s();\n\n  const history = useHistory();\n  const [inputValues, setInputValues] = useState({\n    title: \"\",\n    text: \"\"\n  });\n  const [itemsOffered, setItemsOffered] = useState(null);\n  const [status, setStatus] = useState(null);\n\n  const handleChange = e => {\n    e.preventDefault();\n    setInputValues({ ...inputValues,\n      [e.target.name]: e.target.value\n    });\n  };\n  /* FIXME we are not doing any client-side verification here, just calling the API*/\n\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      if (inputValues.text.indexOf(\"$\") > -1) {\n        throw new Error(\"Please Be Respectful of Trade eRs strict no currency policy\");\n      }\n\n      const response = await postsApi.create({\n        title: inputValues.title,\n        text: inputValues.text,\n        itemsOffered\n      });\n      history.push(\"/posts\");\n      setStatus(response);\n    } catch (err) {\n      setStatus(err.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Form form-container\",\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      titleOne: \"NEW\",\n      titleTwo: \"POST\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), status ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"status-post\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"form-sec\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-border\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            className: \"form-label\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"title\",\n            name: \"title\",\n            type: \"text\",\n            className: \"form-input\",\n            value: inputValues.title,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            className: \"form-label\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"text\",\n            rows: \"6\",\n            name: \"text\",\n            value: inputValues.text,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ItemDrag, {\n            setItemsOffered: setItemsOffered,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-div\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"submit-btn\",\n        type: \"submit\",\n        value: \"SUBMIT\",\n        onClick: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"gqp4CV6wU9LsLT5WwJytNfsEgG0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["C:/Users/Riya/OneDrive/Desktop/trader-among-us-master/src/components/Form/Form.jsx"],"names":["useState","PageTitle","postsApi","useHistory","ItemDrag","Form","name","description","image","user","history","inputValues","setInputValues","title","text","itemsOffered","setItemsOffered","status","setStatus","handleChange","e","preventDefault","target","value","handleSubmit","indexOf","Error","response","create","push","err","message"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAO,YAAP;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,QAAP,MAAqB,sBAArB;;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,WAAR;AAAqBC,EAAAA,KAArB;AAA4BC,EAAAA;AAA5B,CAAD,KAAwC;AAAA;;AACnD,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM,CAACQ,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC;AAC7Ca,IAAAA,KAAK,EAAE,EADsC;AAE7CC,IAAAA,IAAI,EAAE;AAFuC,GAAD,CAA9C;AAKA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkChB,QAAQ,CAAC,IAAD,CAAhD;AAEA,QAAM,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,IAAD,CAApC;;AAEA,QAAMmB,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAT,IAAAA,cAAc,CAAC,EAAE,GAAGD,WAAL;AAAkB,OAACS,CAAC,CAACE,MAAF,CAAShB,IAAV,GAAiBc,CAAC,CAACE,MAAF,CAASC;AAA5C,KAAD,CAAd;AACD,GAHD;AAKA;;;AACA,QAAMC,YAAY,GAAG,MAAOJ,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI;AACF,UAAIV,WAAW,CAACG,IAAZ,CAAiBW,OAAjB,CAAyB,GAAzB,IAAgC,CAAC,CAArC,EAAwC;AACtC,cAAM,IAAIC,KAAJ,CAAU,6DAAV,CAAN;AACD;;AACD,YAAMC,QAAQ,GAAG,MAAMzB,QAAQ,CAAC0B,MAAT,CAAgB;AACrCf,QAAAA,KAAK,EAAEF,WAAW,CAACE,KADkB;AAErCC,QAAAA,IAAI,EAAEH,WAAW,CAACG,IAFmB;AAGrCC,QAAAA;AAHqC,OAAhB,CAAvB;AAKAL,MAAAA,OAAO,CAACmB,IAAR,CAAa,QAAb;AACAX,MAAAA,SAAS,CAACS,QAAD,CAAT;AACD,KAXD,CAWE,OAAOG,GAAP,EAAY;AACZZ,MAAAA,SAAS,CAACY,GAAG,CAACC,OAAL,CAAT;AACD;AAEF,GAjBD;;AAmBA,sBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA,4BAEE,QAAC,SAAD;AAAW,MAAA,QAAQ,EAAE,KAArB;AAA4B,MAAA,QAAQ,EAAE;AAAtC;AAAA;AAAA;AAAA;AAAA,YAFF,EAKGd,MAAM,gBAAG;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA,gBAA4BA;AAA5B;AAAA;AAAA;AAAA;AAAA,YAAH,GAA6C,IALtD,eAOE;AAAS,MAAA,EAAE,EAAC,UAAZ;AAAA,6BACE;AAAM,QAAA,QAAQ,EAAEO,YAAhB;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,kCACE;AAAO,YAAA,OAAO,EAAC,OAAf;AAAuB,YAAA,SAAS,EAAC,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,EAAE,EAAC,OAAV;AACE,YAAA,IAAI,EAAC,OADP;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,SAAS,EAAC,YAHZ;AAIE,YAAA,KAAK,EAAEb,WAAW,CAACE,KAJrB;AAKE,YAAA,QAAQ,EAAEM;AALZ;AAAA;AAAA;AAAA;AAAA,kBAFF,eASE;AAAO,YAAA,OAAO,EAAC,aAAf;AAA6B,YAAA,SAAS,EAAC,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,eAUE;AACE,YAAA,EAAE,EAAC,MADL;AAEE,YAAA,IAAI,EAAC,GAFP;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,KAAK,EAAER,WAAW,CAACG,IAJrB;AAKE,YAAA,QAAQ,EAAEK;AALZ;AAAA;AAAA;AAAA;AAAA,kBAVF,eAiBE,QAAC,QAAD;AAAU,YAAA,eAAe,EAAEH,eAA3B;AAA4C,YAAA,IAAI,EAAEP;AAAlD;AAAA;AAAA;AAAA;AAAA,kBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAPF,eA+BE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,6BACE;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,IAAI,EAAC,QAAnC;AAA4C,QAAA,KAAK,EAAC,QAAlD;AAA2D,QAAA,OAAO,EAAEe;AAApE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YA/BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqCD,CAzED;;GAAMnB,I;UACYF,U;;;KADZE,I;AA2EN,eAAeA,IAAf","sourcesContent":["import { useState } from \"react\";\nimport \"./Form.css\";\nimport PageTitle from \"../../components/PageTitle/PageTitle\";\nimport postsApi from \"../../utils/posts-api\";\nimport { useHistory } from \"react-router\";\nimport ItemDrag from \"../ItemDrag/ItemDrag\";\n\nconst Form = ({ name, description, image, user }) => {\n  const history = useHistory();\n  const [inputValues, setInputValues] = useState({\n    title: \"\",\n    text: \"\",\n  });\n\n  const [itemsOffered, setItemsOffered] = useState(null);\n\n  const [status, setStatus] = useState(null);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    setInputValues({ ...inputValues, [e.target.name]: e.target.value });\n  };\n\n  /* FIXME we are not doing any client-side verification here, just calling the API*/\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (inputValues.text.indexOf(\"$\") > -1) {\n        throw new Error(\"Please Be Respectful of Trade eRs strict no currency policy\");\n      }\n      const response = await postsApi.create({\n        title: inputValues.title,\n        text: inputValues.text,\n        itemsOffered\n      });\n      history.push(\"/posts\");\n      setStatus(response);\n    } catch (err) {\n      setStatus(err.message);\n    }\n\n  };\n\n  return (\n    <div className=\"Form form-container\">\n\n      <PageTitle titleOne={\"NEW\"} titleTwo={\"POST\"} />\n\n      {/* TODO style this error message */}\n      {status ? <p className=\"status-post\">{status}</p> : null}\n\n      <section id=\"form-sec\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-border\">\n            <label htmlFor=\"title\" className=\"form-label\">Title</label>\n            <input id=\"title\"\n              name=\"title\"\n              type=\"text\"\n              className=\"form-input\"\n              value={inputValues.title}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"description\" className=\"form-label\">Description</label>\n            <textarea\n              id=\"text\"\n              rows=\"6\"\n              name=\"text\"\n              value={inputValues.text}\n              onChange={handleChange}\n            />\n            <ItemDrag setItemsOffered={setItemsOffered} user={user} />\n          </div>\n        </form>\n      </section>\n\n      <div className=\"btn-div\">\n        <input className=\"submit-btn\" type=\"submit\" value=\"SUBMIT\" onClick={handleSubmit}></input>\n      </div>\n    </div>\n  );\n};\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}