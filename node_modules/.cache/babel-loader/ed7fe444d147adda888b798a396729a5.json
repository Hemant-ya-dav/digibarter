{"ast":null,"code":"import { getToken } from \"./users-service\";\nconst BASE_URL = \"/api/items\";\n\nasync function show(userId) {\n  const res = await fetch(`/api/users/${userId}/items`);\n\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(\"Unable to retrieve Items. Sorry :(\");\n  }\n}\n\nasync function create(formData) {\n  const res = await fetch(BASE_URL, {\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + getToken()\n    },\n    body: formData\n  });\n\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(\"Unable to create Item\");\n  }\n} // /:itemId/delete\n\n\nasync function deleteItem(itemId) {\n  const res = await fetch(`${BASE_URL}/${itemId}/delete`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + getToken()\n    }\n  });\n\n  if (res.ok) {\n    return res;\n  } else {\n    throw new Error(\"Unable to confirm deal.\");\n  }\n}\n\nconst itemsApi = {\n  create,\n  show,\n  deleteItem\n};\nexport default itemsApi;","map":{"version":3,"sources":["C:/Users/Riya/OneDrive/Desktop/trader-among-us-master/src/utils/items-api.js"],"names":["getToken","BASE_URL","show","userId","res","fetch","ok","json","Error","create","formData","method","headers","Authorization","body","deleteItem","itemId","itemsApi"],"mappings":"AAAA,SAASA,QAAT,QAAyB,iBAAzB;AAEA,MAAMC,QAAQ,GAAG,YAAjB;;AAEA,eAAeC,IAAf,CAAoBC,MAApB,EAA4B;AAC1B,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,cAAaF,MAAO,QAAtB,CAAvB;;AACA,MAAIC,GAAG,CAACE,EAAR,EAAY;AACV,WAAOF,GAAG,CAACG,IAAJ,EAAP;AACD,GAFD,MAEK;AACH,UAAM,IAAIC,KAAJ,CAAW,oCAAX,CAAN;AACD;AACF;;AAED,eAAeC,MAAf,CAAsBC,QAAtB,EAAgC;AAE9B,QAAMN,GAAG,GAAG,MAAMC,KAAK,CAACJ,QAAD,EAAW;AAChCU,IAAAA,MAAM,EAAE,MADwB;AAEhCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYb,QAAQ;AAD5B,KAFuB;AAKhCc,IAAAA,IAAI,EAAEJ;AAL0B,GAAX,CAAvB;;AAQA,MAAIN,GAAG,CAACE,EAAR,EAAY;AACV,WAAOF,GAAG,CAACG,IAAJ,EAAP;AACD,GAFD,MAEO;AACL,UAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACD;AACF,C,CAED;;;AACA,eAAeO,UAAf,CAA0BC,MAA1B,EAAkC;AAChC,QAAMZ,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEJ,QAAS,IAAGe,MAAO,SAAvB,EAAiC;AACtDL,IAAAA,MAAM,EAAE,MAD8C;AAEtDC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAiB,YAAYZ,QAAQ;AAF9B;AAF6C,GAAjC,CAAvB;;AAQA,MAAII,GAAG,CAACE,EAAR,EAAY;AACV,WAAOF,GAAP;AACD,GAFD,MAEO;AACL,UAAM,IAAII,KAAJ,CAAU,yBAAV,CAAN;AACD;AACF;;AAGD,MAAMS,QAAQ,GAAG;AACfR,EAAAA,MADe;AAEfP,EAAAA,IAFe;AAGfa,EAAAA;AAHe,CAAjB;AAMA,eAAeE,QAAf","sourcesContent":["import { getToken } from \"./users-service\";\n\nconst BASE_URL = \"/api/items\";\n\nasync function show(userId) {\n  const res = await fetch(`/api/users/${userId}/items`);\n  if (res.ok) {\n    return res.json();\n  }else{\n    throw new Error (\"Unable to retrieve Items. Sorry :(\");\n  }\n}\n\nasync function create(formData) {\n  \n  const res = await fetch(BASE_URL, {\n    method: \"POST\",\n    headers: {\n      Authorization: \"Bearer \" + getToken(),\n    },\n    body: formData,\n  });\n\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(\"Unable to create Item\");\n  }\n}\n\n// /:itemId/delete\nasync function deleteItem(itemId) {\n  const res = await fetch(`${BASE_URL}/${itemId}/delete`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + getToken(),\n    },\n  });\n\n  if (res.ok) {\n    return res;\n  } else {\n    throw new Error(\"Unable to confirm deal.\");\n  }\n}\n\n\nconst itemsApi = {\n  create,\n  show,\n  deleteItem,\n};\n\nexport default itemsApi;\n"]},"metadata":{},"sourceType":"module"}